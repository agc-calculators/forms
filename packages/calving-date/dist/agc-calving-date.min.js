var AgcCalvingDate=function(a){"use strict";const b=(a,b)=>{"string"==typeof a&&(a=new Date(a));var c=new Date(a),d=a.getDate()+parseInt(b);return c.setDate(d),c},c=(a,b)=>{var c=new Date(a),d=c.getDate(),e=c.getMonth()+1,f=c.getFullYear(),g=("0"+e).slice(-2),h=("0"+d).slice(-2),i={YYYY:f,yyyy:f,MM:g,mm:g,DD:h,dd:h},j="";if(-1!==b.indexOf("/"))j="/";else if(-1!==b.indexOf("-"))j="-";else throw new Error("Invalid date mask!");var k=b.split(j),l=k.reduce(function(a,b){return a=a+(i[b]||b)+j,a},"");return l.slice(0,l.length-1)},d=a=>("string"==typeof a&&(a=new Date(a)),a);return a.calculate=a=>new Promise((e,f)=>{let g={package:"calving-date",properties:{...a},values:{}};if(!a.breedingDate)return void f({package:"calving-date",scope:"#/properties/breedingDate",message:"Breeding date is required",i18n:"properties.breeding-date.required"});if(!a.gestationPeriod)return void f({package:"calving-date",scope:"#/properties/gestationPeriod",message:"Gestation period is required",i18n:"properties.gestation-period.required"});let h=d(a.breedingDate);g.values.breedingDate=h;let i=parseInt(a.gestationPeriod);g.values.gestationPeriod=i,g.values.calvingDate=d(b(h,i)),g.values.calvingDate_mmddyyyy=c(g.values.calvingDate,"MM/DD/YYYY"),g.calculated=new Date,e(g)}),a.schema={type:"object",properties:{breedingDate:{title:"Breeding Date",id:"breedingDate",type:"string",format:"date",required:!0},gestationPeriod:{title:"Gestation Period",id:"gestationPeriod",type:"string",enum:["279","280","281","282","283","284","285","286","287"],required:!0}},required:["breedingDate","gestationPeriod"]},a.uischema={type:"VerticalLayout",elements:[{type:"Control",scope:"#/properties/breedingDate"},{type:"Control",scope:"#/properties/gestationPeriod"}]},a}({});
